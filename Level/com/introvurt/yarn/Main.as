package com.introvurt.yarn {		import flash.display.Sprite;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.filesystem.File;	import flash.filesystem.FileMode;	import flash.filesystem.FileStream;		//	public class Main extends Sprite {				public const NUM_OF_BUTTONS:int = 41;				public var go_btn:Sprite;		public var overlay_mc:Overlay;				private var _board:Board;		private var _tileValue:int;		private var _tileIsOpen:Boolean;		private var _tileIsSafe:Boolean;		private var _tileIsExit:Boolean;						//		public function Main() {			// constructor code			init();		}				private function init():void		{			initBoard();			initButtons();						// brinf overlya back to top			setChildIndex( overlay_mc, this.numChildren-1 );			overlay_mc.visible = false;						addEventListener( Tile.TILE_WAS_CLICKED, onTileClicked, false, 0, true );		}				private function initBoard():void		{			_board = new Board(15,10); // 15x10 :: 240, 160			// _board = new Board(3,3);			addChild(_board);						_board.scaleX = _board.scaleY = 2;						// bump out			_board.x = 200;			_board.y = 20;						// center			// _board.x = (stage.stageWidth - _board.width)/2;			// _board.y = (stage.stageHeight - _board.height)/2;		}				private function initButtons():void		{			// tile buttons			for( var i:int = 1; i < NUM_OF_BUTTONS+1; i++ ) {				var btn:TileButton = getChildByName( "btn"+i ) as TileButton;				btn.init(i);			}						// go buton			go_btn.addEventListener( MouseEvent.CLICK, onGo, false, 0, true );		}				// every tile click sets properties on it...		private function onTileClicked( e:Event ):void		{			var tile:Tile = e.target as Tile;			// this line to set the other values!			this.tileValue = _tileValue;			// go ahead and set			tile.setTileAttributes( _tileValue, _tileIsOpen, _tileIsSafe, _tileIsExit );		}				private function onGo( e:MouseEvent ):void		{			_board.findAllNeighbors();			createJson();		}				private var _saveJson:String;				private function createJson():void		{			var _saveJson = _board.createJson();			trace(_saveJson);						// doSave();		}				/*		public function doSave():void		{			var docsDir = File.desktopDirectory;			docsDir.browseForSave("Save As");			docsDir.addEventListener(Event.SELECT, saveHandler);		}		private function saveHandler(e:Event):void		{			e.target.removeEventListener(Event.SELECT, saveHandler);						var selectedFile:File = File(e.target);						//Make save			var stream:FileStream = new FileStream();			stream.open(selectedFile, FileMode.WRITE);			stream.writeUTFBytes(_saveJson);			stream.close();		}		*/				// GET & SET				// directly from a button		public function set tileValue( num:int ):void		{			_tileValue = num;			// set other values from this one...			_tileIsOpen = (_tileValue < 5);			_tileIsSafe = (_tileValue == 3);			_tileIsExit = (_tileValue == 4);		}		public function get tileValue():int		{			return _tileValue;		}		public function get tileIsOpen():Boolean		{			return _tileIsOpen;		}		public function get tileIsSafe():Boolean		{			return _tileIsSafe;		}		public function get tileIsExit():Boolean		{			return _tileIsExit;		}	}}